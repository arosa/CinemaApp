@model UpdateMovieViewModel
@{
}

<h1>Edit Movie</h1>
<form id="updMovieForm" method="post" action="Edit" class="mt-5">
  <div class="mb-3">
    <label for="" class="form-label">ID</label>
    <input type="text" class="form-control" asp-for="Id" readonly>
  </div><div class="mb-3">
    <div class="mb-3">
    <label for="" class="form-label">Name</label>
    <input type="text" class="form-control" asp-for="Name">
  <div class="mb-3">
    <label for="TheaterID" class="form-label">Select Theater</label>
    <select asp-for="TheaterID" class="form-control" asp-items="ViewBag.Theaters" required>
    </select>
  </div>
  <div class="mb-3">
    <label for="" class="form-label">Premiere Date</label>
    <input type="date" class="form-control" asp-for="PremiereDate">
  </div>
  <div class="mb-3">
    <label for="" class="form-label">Final Date</label>
    <input type="date" class="form-control" asp-for="FinalDate">
  </div>
  <button type="submit" class="btn btn-primary">Save</button>
      <button type="delete" class="btn btn-danger" asp-action="Delete" asp-controller="Movies">Delete</button>
        <button type="submit" class="btn btn-primary" onClick="history.go(-1); return false;">Back</button>
</form>


<script>
    document.getElementById("updMovieForm").addEventListener("submit", function(event) {
        var premiereDate = new Date(document.getElementById("PremiereDate").value);
        var finalDate = new Date(document.getElementById("FinalDate").value);

        if (finalDate <= premiereDate) {
            alert("Final Date must be after Premiere Date.");
            event.preventDefault(); // Prevent form submission
        }
    });
</script>